[["index.html", "NYC School Safey Chapter 1 Introduction", " NYC School Safey Tseng-Han Yu, Xiangming Huang 2022-12-15 Chapter 1 Introduction School safety is always an important topic, but it has raised even more public attention due to tragedies that happened over the past few years. Thus, we thought it could be beneficial if we can extract useful information from data regarding school safety and crime issues. As we are located in New York, we decided to focus on New York City public schools. Some questions that we are interested in studying would be whether the number of crimes in each category has changed overtime, which boroughs or geographical districts have higher numbers of crimes, and whether a higher number of registered students suggests a higher number of crimes. By conducting exploratory data analysis and finding answers to these questions, we are hoping to provide the audience useful information and help them to have a better understanding in the topic of school safety with focus on New York City public schools. "],["proposal.html", "Chapter 2 Proposal 2.1 Research topic 2.2 Data availability", " Chapter 2 Proposal 2.1 Research topic Nowadays, it is quite common to watch or read the news about crimes that take place in schools. A lot of dreadful incidents have happened in the environment that we are most familiar with. While discussing the topic of our final project, we thought we could take this opportunity to answer questions regarding the school safety issues in New York City, which would be more relevant as it is where we are currently located. Some example questions would be whether the crime rate in New York City schools has gone up over the years, whether the crime rate is higher in some specific boroughs, and if a higher number of registered students indicates higher crime rates. By analyzing the dataset and utilizing data visualization techniques, we are hoping to extract meaningful information regarding the school safety issues in New York City and answers to our questions. 2.2 Data availability While searching for datasets that could provide answers to our questions, we came across a few datasets that sparked our interest on NYC Open Data. One of them is the school safety report of New York City public schools from 2010 to 2016, and the other one is the school safety report of New York City public schools from 2015 to 2016. Both datasets include information like the number of crimes for different categories, boroughs where the location is situated, number of registered students at each location, and school year, indicating that they would be sufficient for us to analyze and extract answers and information regarding school safety issues in New York City. As we are also interested in the shift in crime rates over time, we decided to go with the one that is from 2010 to 2016. The data source is [2010-2016 School Safety Report] (https://data.cityofnewyork.us/Education/2010-2016-School-Safety-Report/qybk-bjjc). We also found the same dataset on Kaggle. Nevertheless, since the one on NYC Open Data is considered from the original source, we chose to proceed with that one. The data is collected by the New York City Police Department (NYPD) and is published by the New York City Department of Education (DOE). Furthermore, the NYPD is responsible for maintaining the crime data for incidents that occurred among public schools in New York City, which would then be provided to the DOE for compilation, indicating that maintenance of the data is a collaborative work by the NYPD and the DOE. The update frequency of the data is annually, and the last update was on September 16, 2017, which would make sense as the data only includes information from 2010 to 2016. As DOE is the main agency that is in charge of the data, we would try to get in touch with them if we have any questions about the data. The available formats of data include CSV, CSV for Excel, TSV for Excel, RDF, RSS, and XML. To conduct our analysis and apply data visualization techniques, we could download the data in the format of CSV and call functions like read.csv( ) to read in our dataset for further analysis. While we do not find any issues with data quality, we do notice that even though the data is claimed to be school safety reports from 2010 to 2016, the data only contains the fiscal years from 2013 to 2016. Nevertheless, as there are over 6000 rows and 30 columns, we still believe we would be able to observe the change throughout the years and the dataset should be sufficient for us to conduct a holistic analysis, which is why we decide to proceed with the dataset as the above should not affect its quality. "],["data.html", "Chapter 3 Data 3.1 Sources 3.2 Cleaning / transformation 3.3 Missing value analysis", " Chapter 3 Data 3.1 Sources The data is collected by the New York City Police Department (NYPD) and is published by the New York City Department of Education (DOE). The NYPD is responsible for maintaining the crime data for incidents that occurred among public schools in New York City, which is then provided to the DOE for compilation, indicating that maintenance of the data is a collaborative work by the NYPD and the DOE. We did come across a few datasets that sparked our interest on NYC Open Data. One of them is the school safety report of New York City public schools from 2010 to 2016, and the other one is the school safety report of New York City public schools from 2015 to 2016. Both datasets include identical columns except one includes data over years instead of just one. As we are also interested in the shift in the number of crimes over time, we decided to go with the one that is from 2010 to 2016. There are 34 variables with over 6000 rows in the data. Some example variables would be the number of crimes in different categories, including major, other, non-criminal, property, and violent, boroughs where the location is situated, number of registered students at each location, and school year, indicating that the data would be sufficient for us to analyze and extract answers and information regarding school safety issues in New York City. At first glance, we realized there are a lot of NAs in variables like Major.N, which is the number of major crimes, and RangeA, which is the range the building population falls in. After diving deeper into the data and doing more research, we found out that the data presented is aggregated by building location rather than by school, which would explain the NAs only appear when the school is located at a location that also includes other schools. We also noticed that whenever RangeA has NAs, the rest of values in that row are also missing, indicating that the school might not exist anymore. Furthermore, we discovered that there are some schools indicated to be in “District 0,” which does not exist. We then looked them up and found out that those schools were either shut down or repurposed. Another significant issue with the data is that while the data claims to include data from 2010 to 2016, it actually only includes data from 2013-2016. Nevertheless, we believe that it would still be enough for us to conduct the analysis and extract useful information. 3.2 Cleaning / transformation As mentioned, the data presented is aggregated by building location rather than by school, indicating that we could just focus on the rows that include overall information for the specific location, which is why we decided to drop the rows that belong to a building location but do not contain useful information. We believe our analysis could be done more efficiently by doing so. We also discovered that rows with NAs in column RangeA and are located in “District 0” also do not contain meaningful information. Thus, we decided to filter out those rows as well. As there are over 30 columns in our data, we thought it would be easier and more efficient to conduct the exploratory data analysis if we just keep the columns that we are going to use, and thus, we have our processed data that includes 10 variables: School.Year, which is the school year the data was recorded, Borough, the NYC borough the location is situated in, Geographical.District.Code, which is the school’s geographical district as defined by the NYC DOE, Register, which is the number of registered students, X..Schools, which is the number of schools at the specific location, Major.N, which is the number of major crimes, Oth.N, which is the number of other crimes, NoCrim.N, which is the number of non-criminal crimes, Prop.N, which is the number of property crimes, and Vio.N, which is the number of property crimes, with over 3000 rows, which we believe would still be sufficient for use to conduct the analysis and extract meaning information. 3.3 Missing value analysis ## BIN BBL ## 36 36 ## Postcode Latitude ## 24 24 ## Longitude Community.Board ## 24 24 ## Council.District Census.Tract ## 24 24 ## Geographical.District.Code School.Year ## 6 0 ## Building.Code DBN ## 0 0 ## Location.Name Location.Code ## 0 0 ## Address Borough ## 0 0 ## Register Building.Name ## 0 0 ## X..Schools Schools.in.Building ## 0 0 ## Major.N Oth.N ## 0 0 ## NoCrim.N Prop.N ## 0 0 ## Vio.N ENGroupA ## 0 0 ## RangeA AvgOfMajor.N ## 0 0 ## AvgOfOth.N AvgOfNoCrim.N ## 0 0 ## AvgOfProp.N AvgOfVio.N ## 0 0 ## Borough.Name NTA ## 0 0 We first conduct missing value analysis on the raw data. From the above, we can observe that most of the columns that include missing values are the columns that we are not going to use for our analysis, such as BIN or BBl. By looking at the graph, we can notice that in most cases, the rows are complete cases, meaning that there are no missing values in most of the rows. While there are indeed some missing value patterns in the data, we can learn from the chart on the right that those patterns do not really exist in many rows, indicating that they should not be that big of a problem when we conduct the exploratory data analysis. ## School.Year Borough ## 0 0 ## Geographical.District.Code Register ## 0 0 ## X..Schools Major.N ## 0 0 ## Oth.N NoCrim.N ## 0 0 ## Prop.N Vio.N ## 0 0 We then conduct the missing data analysis again after data cleaning and transformation. From the above, we can notice that all of the rows are complete cases, meaning that all of the rows in our processed data do not contain any missing values, which indicates that missing value would not be an issue when we conduct the analysis and we are safe to proceed. "],["results.html", "Chapter 4 Results 4.1 Scatterplot for total crimes v.s. total number of students 4.2 Parallel coordinate plot for school districts 4.3 Treemap for total registered students and the number of schools in each districts 4.4 Time Series of total crime in New York City 4.5 Time series plot regarding number of crimes in each category 4.6 Bar chart regarding number of schools at each location 4.7 Mosaic plot (school year/boroughs/number of crimes in each category) 4.8 Cleveland dot plot 4.9 Scatter plot matrix for 5 different type of crimes 4.10 Principle components analysis (PCA) 4.11 Scatterplot with total school and total crime", " Chapter 4 Results 4.1 Scatterplot for total crimes v.s. total number of students It is natural to ask if a larger number of registered students lead to a larger number of school crime. To answer this question, we plot the scatterplot of the total number of students and the total number of school crimes for each district in each school year. To find the total number of students, we take the sum of schools from the same district and same school year. The total number of crimes in each school is the sum of five different types of crimes provided in the data. The total number of crimes in each district is the sum of the total number of crimes in each school from the same district and school year. The correlation between the two variables is calculated and displayed in the graph. Contradicting our intuition, the correlation is weak. The plot indicates that the number of registered students in the district is not strongly correlated with the total number of school crimes in each district. The scatter plot explains the weak correlation. When the total number of registered students is high, some districts have a high number of school crimes, while others don’t. 4.2 Parallel coordinate plot for school districts A parallel coordinate plot is useful for finding outliers and clusters. In this case, we are interested in finding which school district has a large number of crimes. Five different types of crime are calculated for each district by taking the sum of schools from the same district over three years. We found two outliers in the top part of the graph, district 2 from Manhattan and district 31 from Staten Island. Then, we see several districts from the Bronx have school crime well above other districts. We also observed a cluster of districts from Queens has low overall crimes. Based on this plot, we can assume the Bronx has the highest overall school crimes, while the Queens has the lowest overall crime. Staten Island has a very high number of school crimes even though it contains only one school district. Schools in Manhattan are relatively safe except those from District 2. To understand the two outliers having very low crime counts, we look into the dataset for an answer. A few schools are labeled in different Borough with other schools from the same district, which create those outliers. We conclude those two outliers at the bottom of the graph are not valid. 4.3 Treemap for total registered students and the number of schools in each districts What is the distribution of schools and students over all districts and boroughs? We used a treemap to answer this question. Each row in our dataset is a building, and one building can have multiple schools. This is why there is a column for the number of schools for each row. To find the number of students and number of schools for each district, we simply take the sum by groups. We can see that Brooklyn and Queens have the largest number of students, while the Bronx has more students than Manhattan. Staten Island has one school district. In Manhattan, most registered students and schools are concentrated in District 2. In the Bronx, the number of registers is positively correlated to the number of schools, based on the graph. In Brooklyn, some districts with a small number of registers have a large number of schools. On the contrary, some districts in Brooklyn with a large number of registers have a small number of schools. The Number of schools is more evenly distributed in the Bronx than in Manhattan. The number of schools is more evenly distributed in Queens than in Brooklyn. 4.4 Time Series of total crime in New York City What is the trend of each type of crime over time? To answer this question, we plot a time series plot for the total number of each type of school crime in NYC over years. The process is straightforward. We take the sum of each type of school crime group by year. We observe a slight increase in the total number of non-criminal crimes over time. We observe a slight decrease in the total number of property crimes, major crimes, and other crimes over time. We observe no change in the total number of violent crimes. In all school years, the number of non-criminal crimes is the highest among the five. The number of major crimes is the lowest among the five. Based on personal opinions, someone may argue that overall school safety in NYC improved over years, while others consider the overall school safety remains the same. 4.5 Time series plot regarding number of crimes in each category We would also like to see how number of crimes in each category changes overtime. We then decided to make a time series plot to observe the change in the number of crimes in each category. We used a different color for different categories of crimes for easier interpretation with faceting on boroughs. The reason why we decided to focus on boroughs instead of geographical districts is because there are over 30 districts while there are only 5 boroughs, which would make the graph less crowded. From the graph, we can see that for most of the boroughs the top category of crime is non-criminal crime, followed by other crime, property crime, violent crime, and major crime, in that order respectively. We can also observe that Brooklyn has a higher number of crimes in most categories compared to other boroughs followed by the Bronx. The number of crimes did not change much over the years for most categories of crimes. For the number of non-criminal crimes in Brooklyn and Bronx, it does seem like there might be an upward trend over the years. 4.6 Bar chart regarding number of schools at each location As there might be different numbers of schools in each location, we thought we could also examine the underlying structure of schools among different boroughs by making bar charts to see the frequency count of the number of schools in each location over the years. As expected, we can observe that for all the boroughs, most of the locations only include one school, but it is also interesting to see that there are 10 schools at some of the locations. We can also see that the frequency count does not really change over the years, meaning that the existing locations did not have much changes and there might be limited new locations. 4.7 Mosaic plot (school year/boroughs/number of crimes in each category) To understand the association between categories of crimes and boroughs over the years, we made a mosaic plot. The result is similar to what we expected based on the result from the previous plots. We can observe that for almost all the boroughs the top category of crime is non-criminal crime, followed by other crime, property crime, violent crime, and major crime, in that order respectively. From the graph, now we can also observe the differences in total number of crimes among the boroughs by looking at the width of each bar with Brooklyn and the Bronx having the highest total number of crimes. Lastly, we can notice the proportions regarding different categories of crimes and total number of crimes among the boroughs did not really change much over the years. 4.8 Cleveland dot plot To have a better understanding of the number of crimes in each category at different geographical districts, we decided to make a Cleveland dot plot as the number of crimes is discrete data. We separated different categories of crimes by color for easier interpretation. As you can see from the graph, for most of the districts, non-criminal crime is the dominant category, followed by other crime, property crime, violent crime, and major crime, in that order respectively. From the graph, we can also learn about which districts have higher numbers of crimes regarding different categories. We can see that District 2, 31, and 10 have much higher numbers of crimes in most categories than the rest of the districts. 4.9 Scatter plot matrix for 5 different type of crimes At this point, it is good to know if each type of school crime correlated statistically. To answer this question, we can use matrix scatter plots. We summarize the sum of each type of crime grouping by district and school year. The scatter plot matrices use the Pearson method to calculate the correlation between each pair of crimes. A histogram of each crime is also provided to understand the distribution of school crimes. We observe a strong correlation between any pair of different types of school crime. All the correlations are positive, thus a district with a high number of one type of crime is also likely to have a high number of other types of school crimes. For each type of crime, the distribution is right skewed. 4.10 Principle components analysis (PCA) ## Importance of components: ## PC1 PC2 PC3 PC4 PC5 PC6 PC7 ## Standard deviation 2.338 0.82173 0.64171 0.52793 0.28416 0.27190 0.11182 ## Proportion of Variance 0.781 0.09646 0.05883 0.03982 0.01153 0.01056 0.00179 ## Cumulative Proportion 0.781 0.87747 0.93630 0.97612 0.98765 0.99821 1.00000 ## PC1 PC2 PC3 PC4 PC5 PC6 PC7 ## Major.N 0.358 -0.451 0.429 -0.535 0.024 0.291 -0.336 ## Oth.N 0.407 -0.018 -0.212 0.453 0.378 -0.158 -0.645 ## NoCrim.N 0.394 0.014 -0.499 0.039 -0.688 0.344 -0.048 ## Prop.N 0.376 0.025 0.551 0.582 -0.040 0.272 0.374 ## Vio.N 0.391 -0.287 -0.429 -0.167 0.486 0.009 0.562 ## X..Schools 0.411 0.040 0.176 -0.146 -0.316 -0.815 0.112 ## Register 0.296 0.843 0.062 -0.344 0.214 0.181 -0.018 To understand how the variables contribute to the total variance and how they are related to each other, we decided to conduct principle components analysis (PCA). As we observed that the number of schools and crimes did not really change much over the years, we decided to conduct PCA only for the year of 2013-14 for simplicity. We picked a few important variables to conduct the analysis, including total number of crimes for each crime category, total number of schools, and total number of registered students for each geographical district. From the PCA table, we can observe that the first two principal components capture around 88% of the total variance, which is relatively high. We also display the specific linear combination of variables for each principal component for additional information. We then drew a biplot for further interpretation. From the graph, we can see that the total number of students is surprisingly uncorrelated with most of the other variables, which contradicts with what we expected: higher number of students would also indicate higher number of crimes. We can also observe that the total number of schools, non-criminal crimes, property crimes, and other crimes are highly positively correlated, while the total number of violent crimes and major crimes are highly positively correlated. 4.11 Scatterplot with total school and total crime In the PCA section, we observed that the number of schools in a district is strongly correlated to the number of total crimes. To verify the assumption, we plot a scatter plot of the total number of crimes vs. the total number of schools in each district. We calculated the total number of crimes in the same way as the first plot. The total number of schools is calculated by summing up the “X..Schools” column by groups. We observed a strong positive correlation. Hence indeed, if a district has a large number of schools, it is also likely to have a large number of crimes. One possible explanation is that most crime targets are buildings rather than students, thus more schools mean more targets. "],["interactive-component.html", "Chapter 5 Interactive component", " Chapter 5 Interactive component Please select school year: 2013-2014 2014-2015 2015-2016 What is the change in overall school safety in NYC over years? To answer this question, we have made a time series plot to visualize changes between the total numbers of five types of school crime for 3 consecutive school years. We observed a mixed message, as some are increasing, some are decreasing, and others remain the same. We also notice the total number of each different type of school crime varies. To better understand those changes and have a sense of overall school safety, We made a bar chart by D3 to better visualize our result. By clicking buttons representing different school years, we can observe the change in the total number of different types of crime. By observing the magnitude of change in each bar chart, we have a general understanding of how school safety in NYC changes over time. This provides more insight than just looking at a static time series plot. "],["conclusion.html", "Chapter 6 Conclusion", " Chapter 6 Conclusion Before diving into the project, we already had some expectation for the results based on our preexisting knowledge. For instance, we thought that a higher number of registered students would indicate a higher number of crimes. Nevertheless, the results from the exploratory data analysis turned out to be not what we expected. It turned out that the total number of registered students is actually uncorrelated with most of our variables of interest, which are the total number of crimes in different categories. The variable that is highly positively correlated with our variables of interest is actually the total number of schools, which we did not realize at first. Other than the surprising finding, we also were able to learn about some useful facts regarding school safety and crime issues in New York City public schools. By making the Cleveland dot plot and time series plots, we were able to observe which categories of crimes are more prevalent in schools. From the Cleveland dot plot and mosaic plot, we were able to analyze which boroughs or geographical districts have the highest number of crimes, which could be informative for families who prioritize safer school districts when finding a place to live. We also noticed that both the proportion regarding different categories of crimes and number of crimes among the boroughs did not really change over the years, which gave us the idea to make interactive components in D3 to display such results and verify our findings. Furthermore, after the exploration, we also have a better understanding of the underlying structure of schools among different boroughs in New York City and the association between our variables of interest and other variables such as number of schools and registered students. While we indeed acquired a better understanding of school safety and crime issues in New York City public schools, the data only includes information from 2013 to 2016, which could be considered relatively outdated and insufficient for further generalization and references. We believe the next step and future direction would be to collect data that are more recent and includes information over longer periods of time. In that case, the results would be more credible and relevant, which hopefully would help the audience to be more informed and familiar with the school safety issues in New York City public schools. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
